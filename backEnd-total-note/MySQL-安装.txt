centos 安装mysql5.7

https://blog.csdn.net/qq_36582604/article/details/80526287




ALTER USER 'root'@'localhost' IDENTIFIED BY 'ZHQzhq123***';

执行以下命令开启远程访问限制（注意：下面命令开启的IP是 192.168.0.1，如要开启所有的，用%代替IP）：
grant all privileges on *.* to 'root'@'%' identified by 'ZHQzhq123***' with grant option;


vi /etc/my.cnf
[client]
default-character-set=utf8

character-set-server=utf8
collation-server=utf8_general_ci


  service mysqld restart


开启binglog

show variables like '%log_bin%';

my.cnf添加如下：
log_bin=mysql_bin
binlog-format=Row
server-id=1


  login: mysql -uroot -pZHQzhq123***



MySQL5.7版本中，my.cnf的位置一般在/etc/my.cnf，要在my.cnf中添加:

[mysqld]
log-bin=/var/log/mysql-binlog/mysql-binlog
server-id=1

slow_query_log=ON
slow_query_log_file=/var/log/mysql-show/mysql-slow.log
long_query_time=1

查询当前mysql数据库是否开启了慢查询日志功能：
show VARIABLES like '%slow%';

查询当前mysql数据库是否开启了binlog日志功能：
show VARIABLES like 'log_%';

查看binlog格式：
show variables like 'binlog_format';

获取binlog文件列表：
show binary logs;

查看当前正在写入的binlog文件：
show master status;

查看master上的binlog：
show master logs;

只查看第一个binlog文件的内容：
show binlog events;

查看指定binlog文件的内容：
show binlog events in 'mysql_bin.000001';

用命令查看binlog日志文件：
mysqlbinlog mysql_bin.000001
不报错的命令：
mysqlbinlog --no-defaults mysql-bin.000001
一是在MySQL的配置/etc/my.cnf中将default-character-set=utf8 修改为 character-set-server = utf8，但是这需要重启MySQL服务，如果你的MySQL服务正在忙，那这样的代价会比较大。
二是用mysqlbinlog --no-defaults mysql-bin.000004 命令打开
以上命令的输出都看不懂的

输出解码：
mysqlbinlog  --base64-output=decode-rows -v  /var/lib/mysql/mysql_bin.000001|less



---------------------
作者：蓝壳
来源：CSDN
原文：https://blog.csdn.net/zhengbin9/article/details/82745652
版权声明：本文为博主原创文章，转载请附上博文链接！
