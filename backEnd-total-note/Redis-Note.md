### 基本知识

Redis ，全称 Remote Dictionary Server ，是一个基于内存的高性能 Key-Value 数据库。

所有的redis操作都是原子的


（1）redis运行在内存中，数据量不能超过内存的大小，可以做很多内部复杂性很强的操作
（2）守护进程（Daemon Process），也就是通常说的 Daemon 进程（精灵进程），
是 Linux 中的后台服务进程。它是一个生存期较长的进程，
通常独立于控制终端并且周期性地执行某种任务或等待处理某些发生的事件
（3）Redis支持五种数据类型：string（字符串），hash（哈希），list（列表），set（集合）及zset(sorted set：有序集合)。
Redis是一个字典结构的存储服务器，而实际上一个Redis实例提供了多个用来存储数据的字典，客户端可以指定将数据存储在哪个字典中。
这与我们熟知的在一个关系数据库实例中可以创建多个数据库类似，所以可以将其中的每个字典都理解成一个独立的数据库。

不同的应用应该使用不同的Redis实例存储数据
针对五种不同的数据类型，分别有对应的操作

（4）单个 Redis 命令的执行是原子性的，但 Redis 没有在事务上增加任何维持原子性的机制，所以 Redis 事务的执行并不是原子性的。
事务可以理解为一个打包的批量执行脚本，但批量指令并非原子化的操作，中间某条指令的失败不会导致前面已做指令的回滚，也不会造成后续的指令不做


### 哨兵模式
主从切换技术的方法是：当主服务器宕机后，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费事费力，还会造成一段时间内服务不可用。这不是一种推荐的方式，更多时候，我们优先考虑哨兵模式。

一、哨兵模式概述
哨兵模式是一种特殊的模式，首先Redis提供了哨兵的命令，哨兵是一个独立的进程，作为进程，它会独立运行。其原理是哨兵通过发送命令，等待Redis服务器响应，从而监控运行的多个Redis实例。
这里的哨兵有两个作用

通过发送命令，让Redis服务器返回监控其运行状态，包括主服务器和从服务器。

当哨兵监测到master宕机，会自动将slave切换成master，然后通过发布订阅模式通知其他的从服务器，修改配置文件，让它们切换主机。

然而一个哨兵进程对Redis服务器进行监控，可能会出现问题，为此，我们可以使用多个哨兵进行监控。各个哨兵之间还会进行监控，这样就形成了多哨兵模式。

用文字描述一下故障切换（failover）的过程。假设主服务器宕机，哨兵1先检测到这个结果，系统并不会马上进行failover过程，仅仅是哨兵1主观的认为主服务器不可用，这个现象成为主观下线。当后面的哨兵也检测到主服务器不可用，并且数量达到一定值时，那么哨兵之间就会进行一次投票，投票的结果由一个哨兵发起，进行failover操作。切换成功后，就会通过发布订阅模式，让各个哨兵把自己监控的从服务器实现切换主机，这个过程称为客观下线。这样对于客户端而言，一切都是透明的。

作者：秃头哥编程
链接：https://www.jianshu.com/p/06ab9daf921d
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

作者：秃头哥编程
链接：https://www.jianshu.com/p/06ab9daf921d
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



### 基本命令

sudo vim /etc/redis/redis.conf

修改bind行，将127.0.0.1修改为*,配置远程可以访问

ubuntu启动Redis服务
service redis-server start
service redis-server status

以命令行方式进入Redis，分别为本地进入方式与远程进入方式：
redis-cli5
redis-cli -h 10.108.115.229 -p 6379

- 命令行查看:SMEMBERS HTTP_RESULT
- 命令行删除:del HTTP_RESULT

查看服务端redis版本
redis-server -v
redis-server --version


---------------------
作者：your_blue_sky
来源：CSDN
原文：https://blog.csdn.net/papaaa/article/details/82184176
版权声明：本文为博主原创文章，转载请附上博文链接！
